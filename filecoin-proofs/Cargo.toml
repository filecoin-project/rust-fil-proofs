[package]
name = "filecoin-proofs"
description = "The Filecoin specific aspects of storage-proofs, including a C based FFI, to generate and verify proofs."
version = "12.0.0"
authors = [
    "dignifiedquire <dignifiedquire@gmail.com>",
    "laser <l@s3r.com>",
    "porcuquine <porcuquine@users.noreply.github.com>",
]
license = "MIT OR Apache-2.0"
edition = "2018"
repository = "https://github.com/filecoin-project/rust-fil-proofs"
readme = "README.md"

[dependencies]
storage-proofs-core = { workspace = true }
storage-proofs-porep = { workspace = true }
storage-proofs-post = { workspace = true }
storage-proofs-update = { workspace = true }
filecoin-hashers = { workspace = true }
fr32 = { workspace = true }

rand = { workspace = true }
lazy_static = { workspace = true }
memmap2 = { workspace = true }
serde = { workspace = true }
serde_json = { workspace = true }
blake2b_simd = { workspace = true }
bellperson = { workspace = true }
log = { workspace = true }
rayon = { workspace = true }
hex = { workspace = true }
merkletree = { workspace = true }
bincode = { workspace = true }
anyhow = { workspace = true }
sha2 = { workspace = true }
typenum = { workspace = true }
gperftools = { workspace = true, optional = true }
generic-array = { workspace = true }
once_cell = { workspace = true }
blstrs = { workspace = true }

[dev-dependencies]
criterion = { workspace = true }
tempfile = { workspace = true }
ff = { workspace = true }
fil_logger = { workspace = true }
rand_xorshift = { workspace = true }
walkdir = { workspace = true }

[features]
default = ["opencl"]
cpu-profile = ["gperftools"]
heap-profile = ["gperftools/heap"]
simd = ["storage-proofs-core/simd"]
asm = ["storage-proofs-core/asm"]
cuda = [
    "storage-proofs-core/cuda",
    "storage-proofs-porep/cuda",
    "storage-proofs-post/cuda",
    "storage-proofs-update/cuda",
    "bellperson/cuda",
    "filecoin-hashers/cuda",
]
opencl = [
    "storage-proofs-core/opencl",
    "storage-proofs-porep/opencl",
    "storage-proofs-post/opencl",
    "storage-proofs-update/opencl",
    "bellperson/opencl",
    "filecoin-hashers/opencl",
]
multicore-sdr = ["storage-proofs-porep/multicore-sdr"]
big-tests = []

[[bench]]
name = "preprocessing"
harness = false

[[bench]]
name = "aggregation"
harness = false
